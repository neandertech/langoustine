<!DOCTYPE html><html data-githubContributorsUrl="https://api.github.com/repos/neandertech/langoustine" data-githubContributorsFilename="docs/_docs/CONTRIBUTING.md" data-pathToRoot=""><head><meta charset="utf-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"></meta><title>Contributing guide</title><link rel="shortcut icon" type="image/x-icon" href="favicon.ico"></link><script type="text/javascript" src="scripts/theme.js"></script><script type="text/javascript" src="scripts/searchData.js" defer="true"></script><script type="text/javascript" src="scripts/scastieConfiguration.js" defer="true"></script><link rel="stylesheet" href="styles/theme/bundle.css"></link><link rel="stylesheet" href="styles/theme/components/bundle.css"></link><link rel="stylesheet" href="styles/theme/components/button/bundle.css"></link><link rel="stylesheet" href="styles/theme/layout/bundle.css"></link><link rel="stylesheet" href="styles/nord-light.css"></link><link rel="stylesheet" href="styles/dotty-icons.css"></link><link rel="stylesheet" href="styles/filter-bar.css"></link><link rel="stylesheet" href="styles/code-snippets.css"></link><link rel="stylesheet" href="styles/searchbar.css"></link><link rel="stylesheet" href="styles/social-links.css"></link><link rel="stylesheet" href="styles/versions-dropdown.css"></link><link rel="stylesheet" href="styles/content-contributors.css"></link><link rel="stylesheet" href="styles/fontawesome.css"></link><script type="text/javascript" src="hljs/highlight.pack.js" defer="true"></script><script type="text/javascript" src="scripts/hljs-scala3.js" defer="true"></script><script type="text/javascript" src="scripts/ux.js" defer="true"></script><script type="text/javascript" src="scripts/common/component.js" defer="true"></script><script type="text/javascript" src="scripts/common/utils.js" defer="true"></script><script type="text/javascript" src="scripts/components/FilterBar.js" defer="true"></script><script type="text/javascript" src="scripts/components/DocumentableList.js" defer="true"></script><script type="text/javascript" src="scripts/components/Input.js" defer="true"></script><script type="text/javascript" src="scripts/components/FilterGroup.js" defer="true"></script><script type="text/javascript" src="scripts/components/Filter.js" defer="true"></script><script type="text/javascript" src="scripts/scaladoc-scalajs.js" defer="true"></script><script type="text/javascript" src="scripts/contributors.js" defer="true"></script><script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js" defer="true"></script><script type="text/javascript" src="https://d3js.org/d3.v6.min.js" defer="true"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/graphlib-dot@0.6.2/dist/graphlib-dot.min.js" defer="true"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dagre-d3/0.6.1/dagre-d3.min.js" defer="true"></script><script type="text/javascript" src="https://scastie.scala-lang.org/embedded.js" defer="true"></script><script type="text/javascript" src="scripts/data.js" defer="true"></script><link rel="stylesheet" href="styles/staticsitestyles.css"></link><script>var pathToRoot = "";</script></head><body><div id=""><div id="header" class="body-small"><div class="header-container-left"><a href="" class="logo-container"><span class="project-name h300">Langoustine</span></a><span onclick="dropdownHandler(event)" class="text-button with-arrow" id="dropdown-trigger"><a><div class="projectVersion">0.0.22</div></a></span><div id="version-dropdown" class="dropdown-menu"></div></div><div class="header-container-right"><button id="search-toggle" class="icon-button"></button><span id="theme-toggle" class="icon-button"></span><span id="mobile-menu-toggle" class="icon-button hamburger"></span></div></div><div id="mobile-menu"><div class="mobile-menu-header body-small"><span class="mobile-menu-logo"><span class="project-name h300">Langoustine</span></span><button id="mobile-menu-close" class="icon-button close"></button></div><div class="mobile-menu-container body-medium"><input id="mobile-scaladoc-searchbar-input" class="scaladoc-searchbar-input" type="search" placeholder="Find anything"></input><span id="mobile-theme-toggle" class="mobile-menu-item mode"></span></div></div><span id="mobile-sidebar-toggle" class="floating-button"></span><div id="leftColumn" class="body-small"><div class="switcher-container"><a id="docs-nav-button" class="switcher h100 selected" href="index.html">Docs</a><a id="api-nav-button" class="switcher h100 " href="api/index.html">API</a></div><nav id="docs-nav" class="side-menu"><div class="ni n0 "><span class="nh de"><a href="getting_started.html"><span>Getting started</span></a></span></div><div class="ni n0 "><span class="nh de"><a href="tracer.html"><span>Tracer</span></a></span></div><div class="ni n0 "><span class="nh de"><a href="toolkit.html"><span>LSP Toolkit</span></a></span></div><div class="ni n0 "><span class="nh de"><a href="examples.html"><span>Examples</span></a></span></div><div class="ni n0 expanded"><span class="nh h100 selected de"><a href="#"><span>Contributing guide</span></a></span></div></nav></div><div id="footer" class="body-small"><div class="left-container">Generated with</div><div class="right-container"><a href="https://github.com/neandertech/langoustine"><button class="icon-button gh"></button></a><div class="text">Copyright (c) 2022, Neandertech</div></div><div class="text-mobile">Copyright (c) 2022, Neandertech</div></div><div id="scaladoc-searchBar"></div><div id="main"><div class="breadcrumbs container"><a href="index.html">Langoustine</a>/<a href="CONTRIBUTING.html">Contributing guide</a></div><div id="content" class="body-medium"><div><section id="contributing-guide-1">
 <h1 class="h500"><a href="#contributing-guide-1" class="anchor"></a>Contributing guide</h1>
 <p>Notes:</p>
 <ol>
  <li>Typos and small fix PRs are always welcome, no matter how small!</li>
  <li>For larger changes please create an issue to discuss it first</li>
 </ol>
</section>
<section id="dev-process-1">
 <h2 class="h500"><a href="#dev-process-1" class="anchor"></a>Dev process</h2>
 <ol>
  <li>
   <p>Run tests with <code>test</code></p></li>
  <li>
   <p>Re-generate LSP definitions with <code>generateLSP</code> (if you changed any code in <code>meta</code> or <code>generate</code> modules, see below)</p></li>
  <li>
   <p>Generate docs with <code>generateDocs</code>, you should see the website in <code>./website/</code> folder</p></li>
  <li>
   <p><strong>Before pushing</strong> make sure you run <code>preCI</code> which will</p>
   <ul>
    <li>Reformat the code</li>
    <li>Run Scalafix</li>
    <li>Ensure your changes don't get tripped up by the boring, automatable steps of the build (like the ones mentioned above)</li>
   </ul></li>
 </ol>
</section>
<section id="structure-1">
 <h2 class="h500"><a href="#structure-1" class="anchor"></a>Structure</h2>
 <p>The project consists of 3 main modules</p>
</section>
<section id="meta---which-defines-the-meta-model-of-lsp-specification-1">
 <h3 class="h400"><a href="#meta---which-defines-the-meta-model-of-lsp-specification-1" class="anchor"></a><code>meta</code> - which defines the meta-model of LSP specification</h3>
 <p>This module was essentially hand-crafted from the <code>metaModel.schema.json</code> file which you can find in the repository.</p>
 <p>It defines what is a <code>Request</code>, <code>Structure</code>, <code>OrType</code>, etc. which are then used in the LSP specification itself.</p>
 <p>It also defines json codecs and helper types to be able to parse the actual LSP specification from JSON.</p>
</section>
<section id="generate---which-converts-lsp-specification-to-scala-code-1">
 <h3 class="h400"><a href="#generate---which-converts-lsp-specification-to-scala-code-1" class="anchor"></a><code>generate</code> - which converts LSP specification to Scala code</h3>
 <p>This module does all the heavy lifting required to massage the LSP spec into Scala-compatible domain model and subsequently Scala 3 code:</p>
 <ol>
  <li>
   <p>Apply type transformations</p>
   <p>For example, convert anonymous structures into a named structure in the companion object</p></li>
  <li>
   <p>Define how types are rendered</p>
   <p>i.e. <code>OrType</code> is usually rendered as a Scala 3 Union, whereas a union with a <code>Null</code> component will be rendered as <code>Opt[A]</code> where <code>A</code> is a union type of remaining components</p></li>
  <li>
   <p>Lay out JSON codecs to match both the <code>given</code> semantics of the language, and the API methods available in uPickle</p></li>
  <li>
   <p>Render enumerations and type aliases</p></li>
  <li>
   <p>Selectively remove some types</p>
   <p>For example, <code>LSPAny</code> is basically a JSON structure and there's no real reason to massage it (it's recursive, which makes things hard) so we need to replace it with <code>ujson.Value</code> everywhere.</p></li>
 </ol>
 <p>This module also defines a main class, which accepts a target path as an argument and, when run, generates all the LSP code in that location.</p>
</section>
<section id="lsp---rendered-lsp-specification-and-runtime-classes-1">
 <h3 class="h400"><a href="#lsp---rendered-lsp-specification-and-runtime-classes-1" class="anchor"></a><code>lsp</code> - rendered LSP specification and runtime classes</h3>
 <p>The <code>generated</code> folder contains all the code generated by the <code>generate</code> module described above. Generated code is <strong>excluded from Scalafmt</strong>.</p>
 <p>The rest of the code contains</p>
 <ul>
  <li>runtime datastructures required for LSP to run,</li>
  <li><code>LSPBuilder</code> to define Language Servers</li>
  <li>integration with <a href="https://github.com/neandertech/jsonrpclib">jsonrpclib</a></li>
  <li>runtime enumeration definitions</li>
  <li>some basic types (like <code>DocumentUri</code> and <code>uinteger</code>)</li>
  <li>specialised JSON codecs which are used as building blocks for more complex codecs in the generated code</li>
 </ul>
</section></div><div id="toc" class="body-small"><div id="toc-container"><span class="toc-title h200">In this article</span><nav class="toc-nav"><ul class="toc-list"><li><a href="#contributing-guide-1">Contributing guide</a><ul><li><a href="#dev-process-1">Dev process</a></li><li><a href="#structure-1">Structure</a><ul><li><a href="#meta---which-defines-the-meta-model-of-lsp-specification-1">meta - which defines the meta-model of LSP specification</a></li><li><a href="#generate---which-converts-lsp-specification-to-scala-code-1">generate - which converts LSP specification to Scala code</a></li><li><a href="#lsp---rendered-lsp-specification-and-runtime-classes-1">lsp - rendered LSP specification and runtime classes</a></li></ul></li></ul></li></ul></nav></div></div></div><div id="footer" class="body-small mobile-footer"><div class="left-container">Generated with</div><div class="right-container"><a href="https://github.com/neandertech/langoustine"><button class="icon-button gh"></button></a><div class="text">Copyright (c) 2022, Neandertech</div></div><div class="text-mobile">Copyright (c) 2022, Neandertech</div></div></div></div></body></html>